<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ø¯ÙØ¹ | ZED</title>
<style>
body {
  font-family: "Cairo", sans-serif;
  background: #f8f8f8;
  margin: 0;
  direction: rtl;
  text-align: center;
}
.container {
  width: 90%;
  max-width: 700px;
  margin: 100px auto;
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
h1 { margin-bottom: 20px; color: #222; }
form {
  display: flex;
  flex-direction: column;
  gap: 15px;
  text-align: right;
}
input, textarea, select {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 16px;
  width: 100%;
}
button {
  background: #222;
  color: #fff;
  border: none;
  padding: 12px;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
}
button:hover { background: #ff9900; }

.summary {
  margin-top: 30px;
  background: #f0f0f0;
  padding: 15px;
  border-radius: 8px;
  text-align: right;
}
</style>
</head>
<body>

<div class="container">
  <h1>Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹</h1>
  <form id="checkout-form">
    <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
    <input type="text" id="name" required>

    <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
    <input type="tel" id="phone" required>

    <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
    <textarea id="address" rows="3" required></textarea>

    <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
    <select id="payment-method" required>
      <option value="ÙƒØ§Ø´ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…">ÙƒØ§Ø´ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</option>
      <option value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ - 01023456789">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ - 01023456789</option>
      <option value="Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ - 01012345678">Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ - 01012345678</option>
    </select>

    <button type="submit">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
  </form>

  <div class="summary" id="order-summary"></div>
</div>

<script>
const cart = JSON.parse(localStorage.getItem('cart')) || [];
const summaryDiv = document.getElementById('order-summary');

// Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
if(cart.length > 0){
  let total = 0;
  let html = "<h3>Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨:</h3><ul>";
  cart.forEach(item=>{
    const itemTotal = (item.price || 0) * (item.quantity || 1);
    total += itemTotal;
    html += `<li>${item.name} (${item.color}, ${item.size}) Ã— ${item.quantity} = ${itemTotal.toFixed(2)} Ø¬.Ù…</li>`;
  });
  html += `</ul><p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${total.toFixed(2)} Ø¬.Ù…</strong></p>`;
  summaryDiv.innerHTML = html;
} else {
  summaryDiv.innerHTML = "<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</p>";
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
document.getElementById('checkout-form').addEventListener('submit', e=>{
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const address = document.getElementById('address').value.trim();
  const payment = document.getElementById('payment-method').value;

  if(cart.length === 0){
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
    return;
  }

  const total = cart.reduce((sum,i)=>sum + (i.price*i.quantity),0);

  // ØªÙƒÙˆÙŠÙ† Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
  let message = `ğŸ“¦ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${name}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\nğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${payment}\n\nğŸ›ï¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n`;
  cart.forEach(item=>{
    message += `- ${item.name} (${item.color}, ${item.size}) Ã— ${item.quantity} = ${(item.price * item.quantity).toFixed(2)} Ø¬.Ù…\n`;
  });
  message += `\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${total.toFixed(2)} Ø¬.Ù…`;

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
const myNumber = "+201204964891"; 
const whatsappURL = `https://wa.me/${myNumber}?text=${encodeURIComponent(message)}`;

  window.open(whatsappURL, "_blank");

  // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
  if(payment === "ÙƒØ§Ø´ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…"){
    alert("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨. Ø³ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù….");
  } else if(payment.includes("ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´")){
    alert("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¹Ù„Ù‰ ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´: 01023456789");
  } else if(payment.includes("Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ")){
    alert("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¹Ø¨Ø± Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ Ø¹Ù„Ù‰ Ø±Ù‚Ù…: 01012345678");
  }

  // Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©
  localStorage.removeItem('cart');
});
</script>

</body>
</html>
